<!DOCTYPE html>
<html>
    <head>
        <title>RPS Game</title>
    </head>
    <body>

        <button type="button" onclick="actualGame()">RPS Game<br>Play Now</button>

        <script>

            // Randomizes computer's choice

            function computerPlay() {
                let computerChoiceList = ["Rock", "Paper", "Scissors"];
                let computerChoice = Math.floor(Math.random() * computerChoiceList.length);
                
                if (computerChoice == 0) {
                    return computerChoice = "Rock"
                }

                else if (computerChoice == 1) {
                    return computerChoice = "Paper"
                }

                else {
                    return computerChoice = "Scissors"
                }
                
            }

            let wins = 0
            let losses = 0
            let draws = 0
            let roundsPlayed = 0
            let rounds = 0 

            // Checks and tracks player's input against computer

            function playRound(playerSelection, computerSelection) {
                
                while (roundsPlayed < rounds)

                    if (playerSelection.toLowerCase() == computerSelection.toLowerCase()) {
                        draws = +draws + + 1
                        return "You guys drawed!"
                    }

                    else if (playerSelection.toLowerCase() == "Rock".toLowerCase() && computerSelection.toLowerCase() == "Scissors".toLowerCase()) {
                        wins = +wins + +1
                        return "Rock beats Scissors. You win!"
                    }

                    else if (playerSelection.toLowerCase() == "Rock".toLowerCase() && computerSelection.toLowerCase() == "Paper".toLowerCase()) {
                        losses = +losses + +1
                        return "Rock loses to Paper. Computer wins!"
                    }

                    else if (playerSelection.toLowerCase() == "Scissors".toLowerCase() && computerSelection.toLowerCase() == "Paper".toLowerCase()) {
                        wins = +wins + +1
                        return "Scissor beats Paper. You win!"
                    }

                    else if (playerSelection.toLowerCase() == "Scissors".toLowerCase() & computerSelection.toLowerCase() == "Rock".toLowerCase()) {
                        losses = +losses + +1
                        return "Scissor loses to Rock. Computer wins!"
                    }

                    else if (playerSelection.toLowerCase() == "Paper".toLowerCase() && computerSelection.toLowerCase() =="Scissors".toLowerCase()) {
                        losses = +losses + +1
                        return "Paper loses to Scissors. Computer wins!"
                    }

                    else if (playerSelection.toLowerCase() == "Paper".toLowerCase() && computerSelection.toLowerCase() == "Rock".toLowerCase()) {
                        wins = +wins + +1
                        return "Paper beats Rock. You win!"
                    }

            }

            // Plays the game

            function game() {
                
                window.alert("Welcome to the RPS Game!")
                rounds = prompt("How many rounds would you like to play?")

                while (roundsPlayed < rounds) {

                    playerSelection = prompt("Rock, Paper, Scissors.");
                    const computerSelection = computerPlay();

                    games = playRound(playerSelection, computerSelection);
                    window.alert(games);
                    roundsPlayed++; 

                }

                window.alert("Results: \nRounds Won: " + wins + "\nRounds Lost: " + losses + "\nRounds Drawn: " + draws)
                window.alert(rounds + " rounds of RPS have conlcuded. Thanks for playing!")

            }

            // Resets the game function
            
            function actualGame() {
                
                wins = 0
                losses = 0
                draws = 0
                rounds = 0
                roundsPlayed = 0

                game();
            }

        </script>
    </body>
</html>